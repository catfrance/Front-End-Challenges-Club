<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div class="form-container">
            <h1>Sign up for the latest updates</h1>
            <form onsubmit="onSubmit(event)" id="contact-form" novalidate>
                <label for="email">Email Address</label><br/>
				<input type="email" id="email" oninput="onInput()" required/>
				<button id="submit">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
						<path d="M11.293 5.707L16.586 11H5a1 1 0 000 2h11.586l-5.293 5.293a.999.999 0 101.414 1.414l7-7a1.006 1.006 0 000-1.414l-7-7a.999.999 0 10-1.414 1.414z"/>
					</svg>
				</button>
			</form>
			<div class="message-container error" id="error">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
					<path d="M11.148 4.374a.973.973 0 01.334-.332c.236-.143.506-.178.756-.116s.474.216.614.448l8.466 14.133a.994.994 0 01-.155 1.192.99.99 0 01-.693.301H3.533a.997.997 0 01-.855-1.486zM9.432 3.346l-8.47 14.14c-.422.731-.506 1.55-.308 2.29s.68 1.408 1.398 1.822c.464.268.976.4 1.475.402H20.47a3 3 0 002.572-4.507L14.568 3.346a2.995 2.995 0 00-4.123-1.014c-.429.26-.775.615-1.012 1.014zM11 9v4a1 1 0 002 0V9a1 1 0 00-2 0zm2 8a1 1 0 10-2 0 1 1 0 002 0z"/>
				</svg>
				<div class="message">
					<strong>Please use a valid email</strong><br/>
					<span>Like: person@inbox.com</span>
				</div>
			</div>
			<div class="message-container success" id="success">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
					<path d="M19.293 5.293L9 15.586l-4.293-4.293a.999.999 0 10-1.414 1.414l5 5a.999.999 0 001.414 0l11-11a.999.999 0 10-1.414-1.414z"/>
				</svg>
				<div class="message">
					<strong>Yay! Thank you</strong><br/>
					<span>We've sent a confirmation link to your inbox.</span>
				</div>
			</div>
        </div>
        <script>
			const email = document.getElementById("email");
			const error = document.getElementById("error");
			const success = document.getElementById("success");
			const form = document.getElementById("contact-form");

			function onInput() {
				//hide error if it is visible and input is valid
				if (email.validity.valid) {
					error.classList.remove("active")
				}
			}

            function onSubmit(event) {				
                if (!email.validity.valid) {
					//show error
					error.classList.add("active");
                    event.preventDefault();
                }
                else {
					//hide error
					error.classList.remove("active");

					//show success and hide form
					success.classList.add("active");
					form.style.display = "none";
					event.preventDefault();
				}
            }
        </script>

    </body>
</html>